var pubsubLib=function(e){"use strict";class t{events=new Map;onceEvents=new Map;static instance=null;static getInstance(){return t.instance||(t.instance=new t),t.instance}on(e,t){this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(t)}off(e,t){const s=this.events.get(e);s?.length&&s.splice(0,s.length,...s.filter((e=>e!==t)));const n=this.onceEvents.get(e);n?.length&&n.splice(0,n.length,...n.filter((e=>e!==t)))}once(e,t){this.onceEvents.has(e)||this.onceEvents.set(e,[]),this.onceEvents.get(e).push(t)}emit(e,...t){Promise.resolve().then((()=>{const s=this.events.get(e)||[],n=this.onceEvents.get(e)||[],i=[...s,...n];if(i.length)for(let e=0,s=i.length;e<s;e++)i[e].apply(this,t);n.length&&n.splice(0)}))}clear(){this.events.clear(),this.onceEvents.clear()}}return e.PubSub=t,e}({});
